<!DOCTYPE html>
	<head>
		<title>junebeetle</title>
		<link rel="stylesheet" href="/style.css">
		<meta charset="UTF-8">
	</head>
	<body>
		<div class="commonDiv">
			<iframe src="/common.html" class="commonFrame"></iframe>
		</div>
		<div>
			<h1>Messages for Web Character Count</h1>
			<p>Google's <a href="http://messages.android.com">Android Messages for Web</a> is fantastic, but it lacks one key feature: showing a character count. The app version does this; I'm not sure why it was omitted from the website. For users who want to know if they'll be sending an <a href="https://en.wikipedia.org/wiki/SMS">SMS</a> or <a href="https://en.wikipedia.org/wiki/Multimedia_Messaging_Service">MMS</a> (typically used for longer messages), this can be a problem. So I wrote a script that automatically adds a character count under the send button.</p>
			<br>
			<h2>Screenshots</h2>
			<center><img src="/mms/screenshot1.png"></center>
			<center><img src="/mms/screenshot2.png"></center>
			<br>
			<h2>Installation</h2>
			<h3>Userscript</h3>
			<p>You can install this userscript using a browser extension like <a href="http://tampermonkey.net">Tampermonkey</a>.
			<br><a class="button" href="/mms/Messages%20for%20Web%20Userscript.zip">Download</a></p>
			<br>
			<h3>Bookmarklet</h3>
			<p>Alternately, you can make a bookmark with the following script as the URL and click it when desired.</p>
			<pre>javascript:
const CHAR_LIMIT=765;
const RED_BACKGROUND=true;
setInterval(checkLength,100);function checkLength(){var inputBox=document.getElementsByClassName("CfnJU HYJSvd")[0];var smsText=document.getElementsByClassName("kf6XZb")[1];var charCount=inputBox.innerText.length;var charsRemaining=CHAR_LIMIT-charCount;if(charsRemaining&lt;0){smsText.innerHTML="MMS&lt;br&gt;&lt;span style=\"color:#FF0000;font-size:9px\"&gt;"+charsRemaining+"&lt;/span&gt;";if(RED_BACKGROUND){inputBox.parentElement.style.background="rgba(255,0,0,0.2)";}}else{smsText.innerHTML="SMS&lt;br&gt;&lt;span style=\"color:#00BB00;font-size:9px\"&gt;"+charsRemaining+"&lt;/span&gt;";if(RED_BACKGROUND){inputBox.parentElement.style.background="";}}}</pre>
			<br>
			<h2>Changing Settings</h2>
			<p>Different phones or providers have different character limits before a message is converted to MMS. I found that mine is 765, but yours may be different. Simply edit the value of <b>CHAR_LIMIT</b> in the JavaScript to match your phone. You can also disable the red background that alerts you of a too-long message.</p>
		</div>
	</body>
</html>
